{
  "version": 3,
  "sources": ["browser-route-module:/Users/ado/Documents/GitHub/anna-george-wedding/ado-wedding/app/routes/admin/edit.tsx?browser", "../../../../app/routes/admin/edit.tsx"],
  "sourcesContent": ["export { default } from \"/Users/ado/Documents/GitHub/anna-george-wedding/ado-wedding/app/routes/admin/edit.tsx\";", "import { ActionFunction, Form, redirect, useActionData, useLoaderData, useTransition } from \"remix\";\nimport invariant from \"tiny-invariant\";\nimport { getPost, updatePost } from \"~/post\";\nimport { PostError } from \"./new\";\n\nexport const loader: LoaderFunction = async ({ params }) => {\n  invariant(params.slug, \"expected params.slug\");\n  return getPost(params.slug);\n};\n\nexport const action: ActionFunction = async ({ request }) => {\n  const formData = await request.formData();\n\n  const title = formData.get(\"title\");\n  const slug = formData.get(\"slug\");\n  const markdown = formData.get(\"markdown\");\n\n  const errors: PostError = {};\n  if (!title) errors.title = true;\n  if (!slug) errors.slug = true;\n  if (!markdown) errors.markdown = true;\n\n  if (Object.keys(errors).length) {\n    return errors;\n  }\n\n  invariant(typeof title === \"string\");\n  invariant(typeof slug === \"string\");\n  invariant(typeof markdown === \"string\");\n\n  await updatePost({ title, slug, markdown });\n\n  return redirect(\"/admin\");\n};\n\n\nexport default function EditPost() {\n    const post = useLoaderData();\n    const errors = useActionData();\n    const transition = useTransition();\n  \n    return (\n      <Form method=\"post\">\n        <p>\n          <label>\n            Post Title:\n            {errors?.title && <em>Title is required</em>}\n            <input type=\"text\" name=\"title\" defaultValue={post.title}/>\n          </label>\n        </p>\n        {/* <p>\n          <label>\n            Post Slug:\n            {errors?.slug && <em>Slug is required</em>}\n            <input type=\"text\" name=\"slug\" defaultValue={post.slug} />\n          </label>\n        </p> */}\n        <p>\n          <label htmlFor=\"markdown\">Markdown: </label>\n          {\"  \"}\n          {errors?.markdown && <em>Markdown is required</em>}\n          <br />\n          <textarea id=\"markdown\" rows={20} name=\"markdown\" defaultValue={post.markdown} />\n        </p>\n        <p>\n          <button type=\"submit\">\n            {transition.submission ? \"Updating...\" : \"Update Post\"}\n          </button>\n        </p>\n      </Form>\n    );\n  }\n  "],
  "mappings": ";;;;;;;;;;;;AAAA;;;ACAA;AAoCe,oBAAoB;AAC/B,QAAM,OAAO;AACb,QAAM,SAAS;AACf,QAAM,aAAa;AAEnB,SACE,oCAAC,MAAD;AAAA,IAAM,QAAO;AAAA,KACX,oCAAC,KAAD,MACE,oCAAC,SAAD,MAAO,eAEJ,kCAAQ,UAAS,oCAAC,MAAD,MAAI,sBACtB,oCAAC,SAAD;AAAA,IAAO,MAAK;AAAA,IAAO,MAAK;AAAA,IAAQ,cAAc,KAAK;AAAA,QAUvD,oCAAC,KAAD,MACE,oCAAC,SAAD;AAAA,IAAO,SAAQ;AAAA,KAAW,eACzB,MACA,kCAAQ,aAAY,oCAAC,MAAD,MAAI,yBACzB,oCAAC,MAAD,OACA,oCAAC,YAAD;AAAA,IAAU,IAAG;AAAA,IAAW,MAAM;AAAA,IAAI,MAAK;AAAA,IAAW,cAAc,KAAK;AAAA,OAEvE,oCAAC,KAAD,MACE,oCAAC,UAAD;AAAA,IAAQ,MAAK;AAAA,KACV,WAAW,aAAa,gBAAgB;AAAA;",
  "names": []
}
