{
  "version": 3,
  "sources": ["browser-route-module:/Users/ado/Documents/GitHub/anna-george-wedding/ado-wedding/app/routes/admin/new.tsx?browser", "../../../../app/routes/admin/new.tsx"],
  "sourcesContent": ["export { default } from \"/Users/ado/Documents/GitHub/anna-george-wedding/ado-wedding/app/routes/admin/new.tsx\";", "import { ActionFunction, Form, redirect } from \"remix\";\nimport invariant from \"tiny-invariant\";\nimport { createPost } from \"~/post\";\n\ntype PostError = {\n    title?: boolean;\n    slug?: boolean;\n    markdown?: boolean;\n}\n\nexport const action: ActionFunction = async ({ request }) => {\n    const formData = await request.formData();\n\n    const title = formData.get(\"title\");\n    const slug = formData.get(\"slug\");\n    const markdown = formData.get('markdown');\n\n    const errors: PostError = {};\n    if(!title) errors.title = true;\n    if(!slug) errors.slug = true;\n    if(!markdown) errors.markdown = true;\n\n    if(Object.keys(errors).length) {\n        return errors;\n    }\n\n    invariant(typeof title === \"string\");\n    invariant(typeof slug === \"string\");\n    invariant(typeof markdown === \"string\");\n\n    await createPost({ title, slug, markdown });\n\n    return redirect(\"/admin\");\n}\n\nexport default function NewPost() {\n    return <Form method=\"post\">\n        <p>\n            <label>\n                Post Title: \n                {errors?.title && <em>Title is required</em>}\n                <input type=\"text\" name=\"title\" />\n            </label>\n        </p>\n        <p>\n            <label>\n                Post Slug: \n                {errors?.slug && <em>Slug is required</em>}\n                <input type=\"text\" name=\"slug\" />\n            </label>\n        </p>\n        <p>\n            <label htmlFor=\"markdown\">Markdown: </label>{\"  \"}\n                {errors?.markdown && <em>Markdown is required</em>}\n            <br />\n            <textarea id=\"markdown\" rows={20} name=\"markdown\" />\n        </p>\n        <p>\n            <button type=\"submit\">Create Post</button>\n        </p>\n    </Form>;\n}"],
  "mappings": ";;;;;;;;;AAAA;;;ACAA;AAmCe,mBAAmB;AAC9B,SAAO,oCAAC,MAAD;AAAA,IAAM,QAAO;AAAA,KAChB,oCAAC,KAAD,MACI,oCAAC,SAAD,MAAO,eAEF,kCAAQ,UAAS,oCAAC,MAAD,MAAI,sBACtB,oCAAC,SAAD;AAAA,IAAO,MAAK;AAAA,IAAO,MAAK;AAAA,QAGhC,oCAAC,KAAD,MACI,oCAAC,SAAD,MAAO,cAEF,kCAAQ,SAAQ,oCAAC,MAAD,MAAI,qBACrB,oCAAC,SAAD;AAAA,IAAO,MAAK;AAAA,IAAO,MAAK;AAAA,QAGhC,oCAAC,KAAD,MACI,oCAAC,SAAD;AAAA,IAAO,SAAQ;AAAA,KAAW,eAAmB,MACxC,kCAAQ,aAAY,oCAAC,MAAD,MAAI,yBAC7B,oCAAC,MAAD,OACA,oCAAC,YAAD;AAAA,IAAU,IAAG;AAAA,IAAW,MAAM;AAAA,IAAI,MAAK;AAAA,OAE3C,oCAAC,KAAD,MACI,oCAAC,UAAD;AAAA,IAAQ,MAAK;AAAA,KAAS;AAAA;",
  "names": []
}
